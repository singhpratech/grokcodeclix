# Grok Code CLI

<div align="center">

```
   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•
  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•
  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
   â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•     â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•
```

### A Production-Ready CLI Coding Assistant Powered by xAI's Grok Models

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen)](https://nodejs.org)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue)](https://www.typescriptlang.org/)
[![xAI API](https://img.shields.io/badge/xAI-Grok%20Models-orange)](https://x.ai/)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://github.com/singhpratech/grokcodeclix/pulls)

**[Installation](#-quick-start)** Â· **[Features](#-features)** Â· **[Commands](#-slash-commands)** Â· **[Tools](#-available-tools)** Â· **[Security](#-security-features)** Â· **[Contributing](#-contributing)**

</div>

---

## What is Grok Code?

**Grok Code** is an agentic coding assistant that lives in your terminal. Think of it as having a senior developer pair programming with you - one that can read your files, write code, run commands, search the web, and help you build software faster.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   $ grok                                                                    â”‚
â”‚                                                                             â”‚
â”‚   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®  â”‚
â”‚   â”‚  ğŸš€ Grok Code v0.1.0                                                 â”‚  â”‚
â”‚   â”‚  Model: grok-3 | Streaming: ON                                       â”‚  â”‚
â”‚   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯  â”‚
â”‚                                                                             â”‚
â”‚   You: Help me create a REST API with Express                               â”‚
â”‚                                                                             â”‚
â”‚   Grok: I'll help you create a REST API with Express. Let me start by      â”‚
â”‚   checking your project structure and then create the necessary files.      â”‚
â”‚                                                                             â”‚
â”‚   ğŸ“– Reading package.json...                                                â”‚
â”‚   âœï¸ Creating src/server.ts...                                              â”‚
â”‚   âœï¸ Creating src/routes/api.ts...                                          â”‚
â”‚   âš¡ Running npm install express...                                         â”‚
â”‚                                                                             â”‚
â”‚   âœ“ Created Express API with the following endpoints:                       â”‚
â”‚     GET  /api/users     - List all users                                    â”‚
â”‚     POST /api/users     - Create a user                                     â”‚
â”‚     GET  /api/users/:id - Get user by ID                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Why Grok Code?

<table>
<tr>
<td width="50%">

### Powered by Grok AI
Access xAI's latest models including **Grok 4**, **Grok 3**, and specialized models. Dynamic model fetching ensures you always have access to the newest models.

### Production Ready
Built with TypeScript, comprehensive security hardening, and battle-tested on real projects. Not a toy - a real tool for real developers.

### Claude Code Compatible
Familiar slash commands, permission system, and workflows. If you've used Claude Code, you'll feel right at home.

</td>
<td width="50%">

### 7 Powerful Tools
Read files, write code, execute commands, search codebases, and fetch web content - all with intelligent permission management.

### Session Persistence
Resume conversations where you left off. Your context, history, and progress are automatically saved.

### Extensible
Create custom slash commands for your team. Define project-specific workflows in `.grok/commands/`.

</td>
</tr>
</table>

---

## Quick Start

### Installation

#### Option 1: Install from npm (Recommended)

```bash
npm install -g grokcodecli
```

#### Option 2: Install from Source

```bash
git clone https://github.com/singhpratech/grokcodeclix.git
cd grokcodeclix
npm install
npm run build
npm link
```

### Setup

#### Step 1: Get Your API Key

Visit [xAI Console](https://console.x.ai/) to create an account and generate your API key.

#### Step 2: Configure Authentication

**Option A: Interactive Setup**
```bash
grok auth
```

**Option B: Environment Variable**
```bash
# Add to your shell profile (~/.bashrc, ~/.zshrc, etc.)
export XAI_API_KEY=your_api_key_here
```

**Option C: Config File**
```bash
mkdir -p ~/.config/grokcodecli
echo '{"apiKey": "your_api_key_here"}' > ~/.config/grokcodecli/config.json
```

#### Step 3: Start Coding

```bash
grok
```

That's it! You're ready to go.

---

## Features

### Core Capabilities

| Feature | Description |
|---------|-------------|
| **Interactive AI Chat** | Real-time conversation with Grok AI for coding assistance, debugging, and learning |
| **Streaming Responses** | Token-by-token streaming for responsive, natural feedback |
| **7 Powerful Tools** | Read, Write, Edit, Bash, Glob, Grep, WebFetch - everything you need |
| **Permission System** | Color-coded risk levels with granular session-based approvals |
| **Dynamic Model Support** | Automatically fetches latest models from xAI API |

### Session Management

| Feature | Description |
|---------|-------------|
| **Persistent History** | Auto-save conversations with full context preservation |
| **Resume Sessions** | Pick up exactly where you left off with `/resume` |
| **Export Conversations** | Save chats to markdown for documentation |
| **Context Visualization** | Track token usage with visual progress bars |

### Security Hardened

| Protection | What It Does |
|------------|--------------|
| **Path Traversal Prevention** | Blocks access to `/etc/`, `/proc/`, `/sys/`, `/dev/` and `../` attacks |
| **Command Injection Protection** | Validates and blocks dangerous command patterns |
| **SSRF Prevention** | Blocks localhost, internal IPs, and non-HTTP protocols |
| **Sensitive File Detection** | Warns when accessing `.env`, credentials, and secrets |

### Developer Experience

| Feature | Description |
|---------|-------------|
| **25+ Slash Commands** | Comprehensive command set for every workflow |
| **Custom Commands** | Create your own commands in `.grok/commands/` |
| **Syntax Highlighting** | Beautiful code output with language detection |
| **Diagnostic Tools** | `/doctor` command validates your entire setup |
| **Smart Model Matching** | Type `grok4` or `grok 3` - we'll figure it out |

---

## Dynamic Model Support

Grok Code **automatically fetches the latest models** from the xAI API. When xAI releases new models, they appear instantly in your CLI without any updates needed.

### Current Models (Auto-Updated)

```
ğŸ¤– Model Selection

  Current: grok-3

  Grok 4:
    â€¢ grok-4-0709 (recommended)
    â€¢ grok-4-1-fast-non-reasoning
    â€¢ grok-4-1-fast-reasoning
    â€¢ grok-4-fast-non-reasoning
    â€¢ grok-4-fast-reasoning

  Grok 3:
    â€¢ grok-3 â† current (recommended)
    â€¢ grok-3-mini

  Grok 2:
    â€¢ grok-2-image-1212
    â€¢ grok-2-vision-1212

  Specialized:
    â€¢ grok-code-fast-1

  10 models available from xAI API
  Use /model <name> to switch.
```

### Smart Model Matching

You don't need to type exact model names. Grok Code understands:

| You Type | Matches |
|----------|---------|
| `grok4` | grok-4-0709 |
| `grok 3` | grok-3 |
| `mini` | grok-3-mini |
| `code` | grok-code-fast-1 |
| `vision` | grok-2-vision-1212 |
| `reasoning` | grok-4-fast-reasoning |

```bash
# All of these work:
/model grok4
/model grok-4-0709
/model vision
/model code
```

---

## Slash Commands

Grok Code includes **25+ built-in commands** for every workflow:

### Session Management

| Command | Alias | Description |
|---------|-------|-------------|
| `/clear` | `/c` | Clear conversation and start fresh |
| `/save` | `/s` | Save current conversation |
| `/history` | | Show saved conversations with timestamps |
| `/resume [id]` | | Resume a previous conversation |
| `/rename <name>` | | Rename current session |
| `/export [file]` | | Export conversation to markdown file |
| `/compact [focus]` | | Reduce context size (keep last 20 messages) |
| `/exit` | `/q` | Save and quit |

### Configuration

| Command | Description |
|---------|-------------|
| `/config` | Show current configuration settings |
| `/model [name]` | Show available models or switch to a different model |
| `/stream` | Toggle streaming mode on/off |
| `/permissions` | View permission settings and risk levels |

### Status & Diagnostics

| Command | Description |
|---------|-------------|
| `/status` | Show session status, model, uptime, and message count |
| `/context` | Visualize context usage with progress bar |
| `/cost` | Show token usage and estimated cost |
| `/usage` | Show detailed usage statistics |
| `/doctor` | Run comprehensive diagnostics check |
| `/version` | Show Grok Code version |

### Project Setup

| Command | Description |
|---------|-------------|
| `/init` | Initialize project with GROK.md configuration file |
| `/review [focus]` | Request AI code review with optional focus area |
| `/terminal-setup` | Show terminal configuration tips |

### Working Directory

| Command | Description |
|---------|-------------|
| `/add-dir <path>` | Add a working directory to the session |
| `/pwd` | Show current working directories |

### Quick Reference

| Alias | Full Command | Description |
|-------|--------------|-------------|
| `/h` | `/help` | Show help |
| `/c` | `/clear` | Clear conversation |
| `/s` | `/save` | Save conversation |
| `/q` | `/exit` | Quit |
| `exit` | `/exit` | Quit (natural language) |
| `quit` | `/exit` | Quit (natural language) |

---

## Available Tools

Grok Code has access to **7 powerful tools** that enable it to interact with your codebase:

### ğŸ“– Read Tool (Low Risk)

Read file contents with line numbers and intelligent handling.

```
Capabilities:
  âœ“ Supports offset/limit for large files
  âœ“ Detects and rejects binary files
  âœ“ Line number formatting (like cat -n)
  âœ“ Truncates very long lines (>2000 chars)

Limits:
  â†’ Maximum file size: 10MB
  â†’ Maximum lines returned: 2000
```

**Example Usage:**
```
You: Read the first 50 lines of src/index.ts
Grok: [Uses Read tool with limit: 50]

You: Show me lines 100-150 of the config file
Grok: [Uses Read tool with offset: 100, limit: 50]
```

---

### âœï¸ Write Tool (Medium Risk)

Create or overwrite files with full content.

```
Capabilities:
  âœ“ Auto-creates parent directories
  âœ“ Shows size diff from previous version
  âœ“ Reports line count and file size

Limits:
  â†’ Maximum content size: 50MB

Security:
  âš ï¸ Warns when writing to sensitive paths
  âš ï¸ Blocked from system directories
```

**Example Usage:**
```
You: Create a new React component called Button
Grok: [Uses Write tool to create src/components/Button.tsx]
      âœ“ File written: src/components/Button.tsx
        Lines: 45
        Size: 1.2KB
```

---

### ğŸ”§ Edit Tool (Medium Risk)

Edit files by exact string replacement.

```
Capabilities:
  âœ“ Precise string matching
  âœ“ Prevents accidental multiple replacements
  âœ“ Supports replace_all mode for bulk changes

Safety:
  â†’ Requires exact string match
  â†’ Fails if string appears multiple times (unless replace_all)
  â†’ Shows before/after context
```

**Example Usage:**
```
You: Change the API endpoint from /api/v1 to /api/v2
Grok: [Uses Edit tool with old_string: "/api/v1", new_string: "/api/v2"]
      âœ“ Edited src/config.ts
        Replaced 1 occurrence
```

---

### âš¡ Bash Tool (High Risk)

Execute shell commands with security validation.

```
Capabilities:
  âœ“ Full bash shell access
  âœ“ Captures stdout and stderr
  âœ“ Configurable timeout (default: 2 minutes)
  âœ“ Working directory support

Security:
  ğŸ›¡ï¸ Blocks dangerous patterns (rm -rf /, curl | sh, etc.)
  ğŸ›¡ï¸ Prevents privilege escalation
  ğŸ›¡ï¸ Validates commands before execution

Limits:
  â†’ Maximum output: 1MB
  â†’ Default timeout: 120 seconds
  â†’ Maximum timeout: 10 minutes
```

**Blocked Patterns:**
```
âœ— rm -rf /                    # Catastrophic deletion
âœ— curl ... | sh               # Remote code execution
âœ— wget ... | bash             # Remote code execution
âœ— chmod 777                   # Dangerous permissions
âœ— > /dev/sda                  # Device destruction
âœ— :(){:|:&};:                 # Fork bombs
```

---

### ğŸ” Glob Tool (Low Risk)

Find files matching patterns.

```
Capabilities:
  âœ“ Full glob pattern support (*, **, ?, [])
  âœ“ Recursive directory searching
  âœ“ Sorted by modification time

Auto-Ignored:
  â†’ node_modules/
  â†’ .git/
  â†’ dist/
  â†’ build/
  â†’ coverage/

Limits:
  â†’ Maximum 100 results
```

**Example Patterns:**
```
**/*.ts           # All TypeScript files
src/**/*.test.js  # All test files in src
*.{js,ts}         # All JS and TS files in current dir
```

---

### ğŸ” Grep Tool (Low Risk)

Search file contents with regex.

```
Capabilities:
  âœ“ Full regex support (extended syntax)
  âœ“ Case-sensitive and case-insensitive modes
  âœ“ Context lines (before/after matches)
  âœ“ 30+ file type filters

Limits:
  â†’ Maximum 50 results
  â†’ Respects .gitignore
```

**Example Searches:**
```
/TODO|FIXME/          # Find all TODOs
/function\s+\w+/      # Find function declarations
/import.*from/        # Find all imports
```

---

### ğŸŒ WebFetch Tool (Low Risk)

Fetch content from URLs.

```
Capabilities:
  âœ“ HTML to readable text conversion
  âœ“ JSON pretty printing
  âœ“ Automatic content type detection
  âœ“ Redirect following

Security:
  ğŸ›¡ï¸ SSRF protection (blocks localhost, internal IPs)
  ğŸ›¡ï¸ Only HTTP/HTTPS protocols allowed
  ğŸ›¡ï¸ Request timeout: 30 seconds

Limits:
  â†’ Maximum response: 5MB
```

**Blocked URLs:**
```
âœ— http://localhost:*          # Local services
âœ— http://127.0.0.1:*          # Loopback
âœ— http://192.168.*.*          # Private networks
âœ— http://10.*.*.*             # Private networks
âœ— file:///etc/passwd          # Local files
```

---

## Permission System

Grok Code uses a **granular permission system** to keep you in control:

### Permission Prompt

When Grok wants to use a tool, you'll see a beautifully formatted prompt:

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ âš¡ Permission Request: Bash                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Execute command: npm install express                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ command: npm install express                                    â”‚
â”‚ timeout: 120000                                                 â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

  [y] Yes, allow once
  [a] Allow for this session
  [n] No, deny
  [!] Deny and block for session
```

### Risk Levels

| Level | Icon | Color | Tools | Description |
|-------|------|-------|-------|-------------|
| **Read** | ğŸ“– | Green | Read, Glob, Grep, WebFetch | Safe operations that only read data |
| **Write** | âœï¸ | Yellow | Write, Edit | Modifies files but reversible |
| **Execute** | âš¡ | Red | Bash | Runs commands with system access |

### Permission Responses

| Key | Action | Scope |
|-----|--------|-------|
| `y` | Allow | This request only |
| `a` | Allow | All similar requests this session |
| `n` | Deny | This request only |
| `!` | Block | All similar requests this session |

### Auto-Approve Configuration

For trusted operations, you can configure auto-approval in your config:

```json
{
  "autoApprove": ["Read", "Glob", "Grep"]
}
```

---

## Custom Commands

Create your own slash commands as markdown files:

### Project Commands (Shared with Team)

Create commands in `.grok/commands/` in your project:

```bash
mkdir -p .grok/commands
```

**`.grok/commands/security.md`**
```markdown
---
description: Review code for security vulnerabilities
---

Review this code for security issues including:
- SQL injection
- XSS vulnerabilities
- Authentication bypasses
- Sensitive data exposure

Focus on the most critical issues first.
```

Usage: `/security`

### User Commands (Personal, All Projects)

Create commands in `~/.grok/commands/`:

```bash
mkdir -p ~/.grok/commands
```

**`~/.grok/commands/explain.md`**
```markdown
---
description: Explain code in detail
---

Explain this code in detail:
- What does each part do?
- Why was it written this way?
- Are there any potential issues?
```

Usage: `/explain`

### Commands with Arguments

```markdown
---
description: Fix a specific GitHub issue
argument-hint: <issue-number>
---

Fix GitHub issue #$ARGUMENTS following these guidelines:
1. Read the issue description
2. Understand the root cause
3. Implement the fix
4. Add tests if applicable
5. Update documentation if needed
```

Usage: `/fix-issue 123`

### Command Priority

1. **Project commands** (`.grok/commands/`) - highest priority
2. **User commands** (`~/.grok/commands/`) - fallback

---

## Security Features

Grok Code includes **enterprise-grade security hardening**:

### Path Protection

```
Blocked Directories:
  âœ— /etc/           # System configuration
  âœ— /proc/          # Process information
  âœ— /sys/           # Kernel parameters
  âœ— /dev/           # Device files
  âœ— /boot/          # Boot files
  âœ— /root/          # Root home directory

Attack Prevention:
  âœ— ../../../etc/passwd    # Path traversal
  âœ— /home/user/../../../   # Directory escape
```

### Sensitive File Detection

```
Warning Files (allowed with warning):
  âš ï¸ .env                  # Environment variables
  âš ï¸ .env.local            # Local environment
  âš ï¸ credentials.json      # API credentials
  âš ï¸ secrets.yaml          # Secret configuration
  âš ï¸ id_rsa                # SSH private keys
  âš ï¸ *.pem                 # Certificates
```

### Command Protection

```
Blocked Patterns:
  âœ— rm -rf /              # Mass deletion
  âœ— rm -rf ~              # Home deletion
  âœ— rm -rf .              # Current dir deletion
  âœ— mkfs.*                # Filesystem formatting
  âœ— dd if=.* of=/dev/     # Device overwriting
  âœ— curl|sh, wget|bash    # Remote code execution
  âœ— chmod 777             # Dangerous permissions
  âœ— chown root            # Privilege escalation
  âœ— sudo su               # Root access
```

### Network Protection (SSRF Prevention)

```
Blocked Hosts:
  âœ— localhost             # Local services
  âœ— 127.0.0.1             # Loopback IPv4
  âœ— ::1                   # Loopback IPv6
  âœ— 0.0.0.0               # All interfaces
  âœ— 192.168.*.*           # Private Class C
  âœ— 10.*.*.*              # Private Class A
  âœ— 172.16-31.*.*         # Private Class B
  âœ— 169.254.*.*           # Link-local

Blocked Protocols:
  âœ— file://               # Local files
  âœ— ftp://                # FTP
  âœ— gopher://             # Gopher
  âœ— data://               # Data URLs
```

---

## Configuration

### Config File Location

```
~/.config/grokcodecli/config.json
```

### Configuration Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `apiKey` | string | - | Your xAI API key |
| `model` | string | `grok-3` | Default Grok model |
| `temperature` | number | `0.7` | Response creativity (0.0 - 1.0) |
| `maxTokens` | number | `16384` | Maximum response tokens |
| `streaming` | boolean | `true` | Enable token streaming |
| `autoApprove` | string[] | `[]` | Tools to auto-approve |

### Example Configuration

```json
{
  "apiKey": "xai-your-api-key-here",
  "model": "grok-3",
  "temperature": 0.7,
  "maxTokens": 16384,
  "streaming": true,
  "autoApprove": ["Read", "Glob", "Grep"]
}
```

### Environment Variables

| Variable | Description |
|----------|-------------|
| `XAI_API_KEY` | Your xAI API key (overrides config) |
| `GROK_MODEL` | Default model (overrides config) |

---

## Session History

### Storage Location

```
~/.config/grokcodecli/history/
```

### What's Saved

Each session stores:
- Full conversation messages
- Tool call history
- Working directory
- Creation timestamp
- Last update timestamp
- Auto-generated title

### Resume Commands

```bash
# Resume the most recent session
grok --resume

# Resume a specific session by ID
grok --resume abc123def

# List all saved sessions
grok
/history
```

### Session Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   grok start    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  New Session    â”‚â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Created        â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
         â”‚                â”‚
         â–¼                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  Conversation   â”‚â—„â”€â”€â”€â”€â”€â”€â”˜
â”‚  (auto-saved)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚/save  â”‚ â”‚/exit  â”‚
â”‚       â”‚ â”‚       â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Session Saved   â”‚
â”‚ ~/.config/...   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ /resume or      â”‚
â”‚ grok --resume   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Diagnostics

Run `/doctor` to validate your setup:

```
ğŸ©º Running diagnostics...

  âœ“ API Key          API key is configured
  âœ“ Node.js          v18.19.1 (>=18 required)
  âœ“ Working Dir      Read/write access confirmed
  âœ“ Config Dir       /home/user/.config/grokcodecli
  âœ“ Git              Git is available
  âœ“ API Connection   Connected to xAI API

  All checks passed! Grok Code is ready.
```

### Diagnostic Checks

| Check | What It Validates |
|-------|-------------------|
| API Key | Key is configured and has correct format |
| Node.js | Version 18.0.0 or higher |
| Working Dir | Read/write access to current directory |
| Config Dir | Config directory exists and is writable |
| Git | Git is installed and accessible |
| API Connection | Can reach xAI API and authenticate |

---

## CLI Options

```bash
grok [options]

Options:
  -V, --version          Show version number
  -r, --resume [id]      Resume a previous session
  -m, --model <model>    Use a specific model
  -p, --prompt <text>    Start with an initial prompt
  -h, --help             Show help

Subcommands:
  grok auth              Configure API key
  grok config            Show configuration
  grok doctor            Run diagnostics
```

### Examples

```bash
# Start a new session
grok

# Resume last session
grok --resume

# Start with a specific model
grok --model grok-4-0709

# Start with a prompt
grok --prompt "Help me refactor this function"

# Run diagnostics
grok doctor
```

---

## Development

### Building from Source

```bash
# Install dependencies
npm install

# Build TypeScript
npm run build

# Development mode (watch)
npm run dev

# Link for local testing
npm link
```

### Project Structure

```
grokcodeclix/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ cli.ts                 # CLI entry point & argument parsing
â”‚   â”œâ”€â”€ index.ts               # Public API exports
â”‚   â”‚
â”‚   â”œâ”€â”€ grok/
â”‚   â”‚   â””â”€â”€ client.ts          # xAI Grok API client
â”‚   â”‚
â”‚   â”œâ”€â”€ conversation/
â”‚   â”‚   â”œâ”€â”€ chat.ts            # Main interactive loop (900+ lines)
â”‚   â”‚   â””â”€â”€ history.ts         # Session persistence
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ manager.ts         # Configuration management
â”‚   â”‚
â”‚   â”œâ”€â”€ permissions/
â”‚   â”‚   â””â”€â”€ manager.ts         # Permission system
â”‚   â”‚
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ registry.ts        # Tool registration & execution
â”‚   â”‚   â”œâ”€â”€ read.ts            # File reading
â”‚   â”‚   â”œâ”€â”€ write.ts           # File writing
â”‚   â”‚   â”œâ”€â”€ edit.ts            # File editing
â”‚   â”‚   â”œâ”€â”€ bash.ts            # Command execution
â”‚   â”‚   â”œâ”€â”€ glob.ts            # File pattern matching
â”‚   â”‚   â”œâ”€â”€ grep.ts            # Content search
â”‚   â”‚   â””â”€â”€ webfetch.ts        # HTTP requests
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ security.ts        # Security validation
â”‚   â”‚   â””â”€â”€ ui.ts              # UI components
â”‚   â”‚
â”‚   â””â”€â”€ commands/
â”‚       â””â”€â”€ loader.ts          # Custom command loader
â”‚
â”œâ”€â”€ dist/                      # Compiled JavaScript
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

### Code Statistics

| Metric | Value |
|--------|-------|
| Total Lines | ~3,500 |
| TypeScript Files | 15 |
| Tools | 7 |
| Slash Commands | 25+ |
| Test Coverage | Growing |

---

## Troubleshooting

### Common Issues

#### "API key not configured"

```bash
# Set via environment variable
export XAI_API_KEY=your_key_here

# Or use auth command
grok auth
```

#### "Connection refused"

Check your network connection and ensure you can reach `api.x.ai`:
```bash
curl https://api.x.ai/v1/models -H "Authorization: Bearer $XAI_API_KEY"
```

#### "Permission denied"

```bash
# Ensure config directory is writable
chmod 755 ~/.config/grokcodecli
```

#### "Command not found: grok"

```bash
# If installed from source, link it
npm link

# Or add to PATH
export PATH="$PATH:$(npm prefix -g)/bin"
```

---

## Comparison with Claude Code

| Feature | Grok Code | Claude Code |
|---------|-----------|-------------|
| AI Model | xAI Grok | Anthropic Claude |
| Slash Commands | 25+ | 35+ |
| Tools | 7 | 10+ |
| Custom Commands | âœ“ | âœ“ |
| Permission System | âœ“ | âœ“ |
| Session Persistence | âœ“ | âœ“ |
| Streaming | âœ“ | âœ“ |
| Security Hardening | âœ“ | âœ“ |
| MCP Support | Planned | âœ“ |
| IDE Integration | Planned | âœ“ |
| Cost | xAI pricing | Anthropic pricing |

---

## Contributing

We welcome contributions! Here's how to get started:

### Development Setup

```bash
# Fork and clone
git clone https://github.com/YOUR_USERNAME/grokcodeclix.git
cd grokcodeclix

# Install dependencies
npm install

# Create a branch
git checkout -b feature/your-feature

# Make changes and test
npm run build
npm link
grok  # Test your changes

# Submit a PR
git push origin feature/your-feature
```

### Contribution Guidelines

1. **Fork** the repository
2. **Create** a feature branch (`git checkout -b feature/amazing-feature`)
3. **Commit** your changes (`git commit -m 'Add amazing feature'`)
4. **Push** to the branch (`git push origin feature/amazing-feature`)
5. **Open** a Pull Request

### Code Style

- Use TypeScript strict mode
- Follow existing patterns
- Add comments for complex logic
- Update documentation for new features

---

## Roadmap

- [ ] MCP (Model Context Protocol) support
- [ ] IDE integrations (VS Code, JetBrains)
- [ ] Multi-file editing mode
- [ ] Git integration commands
- [ ] Image/vision support with Grok vision models
- [ ] Plugin system
- [ ] Team collaboration features

---

## License

MIT License - see [LICENSE](LICENSE) for details.

```
MIT License

Copyright (c) 2024 Grok Code CLI Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## Credits

Built with these amazing technologies:

| Technology | Purpose |
|------------|---------|
| [xAI Grok API](https://x.ai/) | AI models powering the assistant |
| [TypeScript](https://www.typescriptlang.org/) | Type-safe development |
| [Node.js](https://nodejs.org/) | Runtime environment |
| [Chalk](https://github.com/chalk/chalk) | Beautiful terminal styling |
| [Commander.js](https://github.com/tj/commander.js) | CLI framework |
| [Glob](https://github.com/isaacs/node-glob) | File pattern matching |

---

## Support

- **Issues**: [GitHub Issues](https://github.com/singhpratech/grokcodeclix/issues)
- **Discussions**: [GitHub Discussions](https://github.com/singhpratech/grokcodeclix/discussions)
- **Email**: [Contact maintainers](mailto:support@example.com)

---

<div align="center">

### Built with Grok AI

**[Get Started](#-quick-start)** Â· **[Documentation](#features)** Â· **[Contribute](#-contributing)**

Made with determination by the Grok Code community

</div>
